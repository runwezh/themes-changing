# Repository Guidelines

## Project Structure & Module Organization
TypeScript sources live in `src/`, with `src/extension.ts` registering commands and scheduling logic, and `src/settingsPanel.ts` rendering the webview UI. Shared types belong in `src/types.ts`. Tests sit under `src/test/suite/` and mirror runtime modules. Assets (`media/` icons, `image/README/` screenshots) support the marketplace listing. The compiled output in `out/` is generated by TypeScript—never edit it directly.

## Build, Test, and Development Commands
Run `npm install` once to pull dependencies. Use `npm run compile` for a single TypeScript build or `npm run watch` during active development. `npm run lint` enforces the ESLint rules; `npm run lint:fix` auto-applies safe fixes. Execute `npm test` to compile, lint, and invoke the VS Code integration tests, or `npm run test:watch` while iterating. Before packaging, `npm run vscode:prepublish` produces a clean build.

## Coding Style & Naming Conventions
Follow strict TypeScript with ES2020 targets and four-space indentation, matching the existing files. ESLint (see `.eslintrc.json`) requires semicolons via `@typescript-eslint/semi`, flags unused variables unless prefixed with `_`, and warns on non-strict equality. Enum members should remain camelCase or PascalCase. Prefer descriptive names that map to UI labels or configuration keys, and keep webview code free of Node-specific APIs.

## Testing Guidelines
Integration tests rely on Mocha via `@vscode/test-electron`. Place new suites in `src/test/suite/` using the `*.test.ts` suffix and reuse the helper utilities already defined there. When touching scheduling logic, assert both configuration persistence and timer behavior. `npm test` automatically restores VS Code settings—mirror that pattern by cleaning up any workspace state you modify. Use Sinon for stubs or timers when browser APIs need isolation.

## Commit & Pull Request Guidelines
History follows Conventional Commits (`feat`, `refactor`, optional scopes like `refactor(test)`). Keep subjects short, imperative, and include bilingual context only when it clarifies user-facing changes. For pull requests, link relevant issues, outline testing performed, and attach UI screenshots or GIFs for settings panel updates. Confirm lint and test runs in the description, and note any follow-up tasks that contributors should track.

## Release & Configuration Tips
Bump the version and changelog together when shipping, then run `vsce package` or reuse the existing `.vsix` naming (`themes-changing-x.y.z.vsix`). Update `themesChanging.*` defaults cautiously—these feed directly into user settings. Document significant UX changes in `FEATURE_DESIGN.md` to keep future agents aligned.
